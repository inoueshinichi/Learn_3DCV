# 3DCVPython
### 3Dの基本構成要素

### 基本モジュール
1. 回転行列(3x3)
2. 回転ベクトル(3x1)
3. クォータニオン(4x1)
4. オイラー角(theta1, theta2, theta3)
5. LookAtによるカメラのView行列

### 座標軸の設定
1. 左手座標系と右手座標系  
2. ZupとYup  

### オイラー角の定義
・外因性 親座標軸の固定角に関する回転定義.
・外因性で `(θ1,θ２,θ3)`の回転順序は, `R_global = R(θ3)@R(θ2)R(θ1)`.
・内因性で `(θ1,θ２,θ3)`の回転順序は, `R_logal = R(-θ3)@R(-θ2)@R(-θ1)`に相当する.

#### 事実
`R_global = (R_local)^(-1)`が成立するので, 内因性で`(θ1,θ２,θ3)`の回転順序は,  
`R_logal^(-1) = R_logal^T = R(θ1)@R(θ2)@R(θ3)`とすれば良い.  

| 内因性 or 外因性 | 軸種類 | 軸順序 | 対応する回転行列 |
| :--: | :--: | :--: | :-- |
| 内因性 | 2軸 | XYX | `Rx(θ1)@Rz(θ2)@Rx(θ3)` |
| ↑ | ↑ | XZX | `Rx(θ1)@Rz(θ2)@Rx(θ3)` |
| ↑ | ↑ | YXY | `Ry(θ1)@Rx(θ2)@Ry(θ3)` |
| ↑ | ↑ | YZY | `Ry(θ1)@Rz(θ2)@Ry(θ3)` |
| ↑ | ↑ | ZXZ | `Rz(θ1)@Rx(θ2)@Rz(θ3)` |
| ↑ | ↑ | ZYZ | `Rz(θ1)@Ry(θ2)@Rz(θ3)` |
| ↑ | 3軸 | XYZ | `Rx(θ1)@Rz(θ2)@Rz(θ3)` |
| ↑ | ↑ | XZY | `Rx(θ)@Rz(θ)@Ry(θ)` |
| ↑ | ↑ | YXZ | `Ry(θ)@Rx(θ)@Rz(θ)` |
| ↑ | ↑ | YZX | `Ry(θ)@Rz(θ)@Rx(θ)` |
| ↑ | ↑ | ZXY | `Rz(θ)@Rx(θ)@Ry(θ)` |
| ↑ | ↑ | ZYX | `Rz(θ)@Ry(θ)@Rx(θ)` |
| 外因性 | 2軸 | XYX | `Rx(θ3)@Ry(θ2)@Rx(θ1)` |
| ↑ | ↑ | XZX | `Rx(θ3)@Rz(θ2)@Rx(θ1)` |
| ↑ | ↑ | YXY | `Ry(θ3)@Rx(θ2)@Ry(θ1)` |
| ↑ | ↑ | YZY | `Ry(θ3)@Rz(θ2)@Ry(θ1)` |
| ↑ | ↑ | ZXZ | `Rz(θ3)@Rx(θ2)@Rz(θ1)` |
| ↑ | ↑ | ZYZ | `Rz(θ3)@Ry(θ2)@Rz(θ1)` |
| ↑ | 3軸 | XYZ | `Rz(θ3)@Ry(θ2)@Rx(θ1)` |
| ↑ | ↑ | XZY | `Ry(θ3)@Rz(θ2)@Rx(θ1)` |
| ↑ | ↑ | YXZ | `Rz(θ3)@Rx(θ2)@Ry(θ1)` |
| ↑ | ↑ | YZX | `Rx(θ3)@Rz(θ2)@Ry(θ1)` |
| ↑ | ↑ | ZXY | `Ry(θ3)@Rx(θ2)@Rz(θ1)` |
| ↑ | ↑ | ZYX | `Rx(θ3)@Ry(θ2)@Rz(θ1)` |


